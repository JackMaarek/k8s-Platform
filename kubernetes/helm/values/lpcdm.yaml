# lpcdm — LOCAL-DEV fixture
# Static nginx app used to validate the full infra stack locally:
#   - Istio mTLS + VirtualService + DestinationRule
#   - ServiceMonitor → Prometheus scrape
#   - multi-env routing (dev / staging / prod)
#   - ArgoCD sync + selfHeal
#
# This file is NOT part of the template. It is a local-test fixture.
# The equivalent for a real app is generated by platform-bot app add.

image:
  repository: ghcr.io/podyourlife/lpcdm
  pullPolicy: Always
  tag: "latest"

imagePullSecrets:
  - name: ghcr-pull-secret

replicaCount: 1

service:
  type: ClusterIP
  port: 80
  targetPort: 80

resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 200m
    memory: 128Mi

livenessProbe:
  httpGet:
    path: /
    port: http
  initialDelaySeconds: 10
  periodSeconds: 10

readinessProbe:
  httpGet:
    path: /
    port: http
  initialDelaySeconds: 5
  periodSeconds: 5

autoscaling:
  enabled: false

podLabels:
  version: v1

secret:
  enabled: true
  name: lpcdm-supabase-secret
